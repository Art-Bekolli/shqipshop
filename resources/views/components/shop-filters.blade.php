<div class="dropdown-container">
    <div id="sort-filter">
        <svg width="25" height="22" viewBox="0 0 29 22" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M2 1.5C1.17157 1.5 0.5 2.17157 0.5 3C0.5 3.82843 1.17157 4.5 2 4.5V1.5ZM2 4.5H21V1.5H2V4.5Z" fill="black" />
            <path d="M27.0001 4.34814C27.8285 4.34814 28.5001 3.67657 28.5001 2.84814C28.5001 2.01972 27.8285 1.34814 27.0001 1.34814V4.34814ZM24.6794 4.34814H27.0001V1.34814H24.6794V4.34814Z" fill="black" />
            <mask id="path-3-inside-1_351_848" fill="white">
                <ellipse cx="22.2004" cy="2.8481" rx="3.00633" ry="2.8481" />
            </mask>
            <ellipse cx="22.2004" cy="2.8481" rx="3.00633" ry="2.8481" fill="black" />
            <path d="M22.2067 2.8481C22.2067 2.80861 22.2161 2.76735 22.2311 2.73368C22.245 2.70262 22.259 2.6879 22.263 2.68415C22.2702 2.67736 22.2547 2.6962 22.2004 2.6962V8.6962C25.3627 8.6962 28.2067 6.22869 28.2067 2.8481H22.2067ZM22.2004 2.6962C22.1461 2.6962 22.1307 2.67736 22.1379 2.68415C22.1418 2.6879 22.1559 2.70262 22.1697 2.73368C22.1848 2.76735 22.1941 2.80861 22.1941 2.8481H16.1941C16.1941 6.22869 19.0381 8.6962 22.2004 8.6962V2.6962ZM22.1941 2.8481C22.1941 2.8876 22.1848 2.92885 22.1697 2.96252C22.1559 2.99358 22.1418 3.0083 22.1379 3.01205C22.1307 3.01884 22.1461 3 22.2004 3V-3C19.0381 -3 16.1941 -0.532483 16.1941 2.8481H22.1941ZM22.2004 3C22.2547 3 22.2702 3.01884 22.263 3.01205C22.259 3.0083 22.245 2.99358 22.2311 2.96252C22.2161 2.92885 22.2067 2.8876 22.2067 2.8481H28.2067C28.2067 -0.532483 25.3627 -3 22.2004 -3V3Z" fill="black" mask="url(#path-3-inside-1_351_848)" />
            <path d="M27 12.5C27.8284 12.5 28.5 11.8284 28.5 11C28.5 10.1716 27.8284 9.5 27 9.5L27 12.5ZM27 9.5L8 9.5L8 12.5L27 12.5L27 9.5Z" fill="black" />
            <path d="M2 17.1709C1.17157 17.1709 0.5 17.8425 0.5 18.6709C0.5 19.4993 1.17157 20.1709 2 20.1709L2 17.1709ZM2 20.1709L14.4473 20.1709L14.4473 17.1709L2 17.1709L2 20.1709Z" fill="black" />
            <path d="M2.00013 12.2595C1.1717 12.2595 0.500126 11.5879 0.500126 10.7595C0.500126 9.93109 1.1717 9.25952 2.00013 9.25952V12.2595ZM4.3208 12.2595H2.00013V9.25952H4.3208V12.2595Z" fill="black" />
            <path d="M27 20.1709C27.8284 20.1709 28.5 19.4993 28.5 18.6709C28.5 17.8425 27.8284 17.1709 27 17.1709L27 20.1709ZM19.1941 20.1709L27 20.1709L27 17.1709L19.1941 17.1709L19.1941 20.1709Z" fill="black" />
            <mask id="path-9-inside-2_351_848" fill="white">
                <ellipse cx="3.00633" cy="2.8481" rx="3.00633" ry="2.8481" transform="matrix(-1 0 0 1 9.80591 7.91138)" />
            </mask>
            <ellipse cx="3.00633" cy="2.8481" rx="3.00633" ry="2.8481" transform="matrix(-1 0 0 1 9.80591 7.91138)" fill="black" />
            <path d="M6.79325 10.7595C6.79325 10.72 6.78391 10.6787 6.76888 10.6451C6.75501 10.614 6.74097 10.5993 6.73702 10.5955C6.72984 10.5887 6.74526 10.6076 6.79958 10.6076V16.6076C3.63727 16.6076 0.79325 14.1401 0.79325 10.7595H6.79325ZM6.79958 10.6076C6.85389 10.6076 6.86931 10.5887 6.86214 10.5955C6.85819 10.5993 6.84414 10.614 6.83028 10.6451C6.81525 10.6787 6.80591 10.72 6.80591 10.7595H12.8059C12.8059 14.1401 9.96189 16.6076 6.79958 16.6076V10.6076ZM6.80591 10.7595C6.80591 10.799 6.81525 10.8402 6.83028 10.8739C6.84414 10.905 6.85819 10.9197 6.86214 10.9234C6.86931 10.9302 6.85389 10.9114 6.79958 10.9114V4.91138C9.96189 4.91138 12.8059 7.37889 12.8059 10.7595H6.80591ZM6.79958 10.9114C6.74526 10.9114 6.72984 10.9302 6.73702 10.9234C6.74097 10.9197 6.75501 10.905 6.76888 10.8739C6.78391 10.8402 6.79325 10.799 6.79325 10.7595H0.79325C0.79325 7.37889 3.63727 4.91138 6.79958 4.91138V10.9114Z" fill="black" mask="url(#path-9-inside-2_351_848)" />
            <mask id="path-11-inside-3_351_848" fill="white">
                <ellipse cx="16.8208" cy="18.6709" rx="3.00633" ry="2.8481" />
            </mask>
            <ellipse cx="16.8208" cy="18.6709" rx="3.00633" ry="2.8481" fill="black" />
            <path d="M16.8271 18.6709C16.8271 18.6314 16.8364 18.5901 16.8515 18.5564C16.8653 18.5254 16.8794 18.5107 16.8833 18.5069C16.8905 18.5001 16.8751 18.519 16.8208 18.519V24.519C19.9831 24.519 22.8271 22.0514 22.8271 18.6709H16.8271ZM16.8208 18.519C16.7665 18.519 16.751 18.5001 16.7582 18.5069C16.7622 18.5107 16.7762 18.5254 16.7901 18.5564C16.8051 18.5901 16.8145 18.6314 16.8145 18.6709H10.8145C10.8145 22.0514 13.6585 24.519 16.8208 24.519V18.519ZM16.8145 18.6709C16.8145 18.7104 16.8051 18.7516 16.7901 18.7853C16.7762 18.8163 16.7622 18.8311 16.7582 18.8348C16.751 18.8416 16.7665 18.8228 16.8208 18.8228V12.8228C13.6585 12.8228 10.8145 15.2903 10.8145 18.6709H16.8145ZM16.8208 18.8228C16.8751 18.8228 16.8905 18.8416 16.8833 18.8348C16.8794 18.8311 16.8653 18.8163 16.8515 18.7853C16.8364 18.7516 16.8271 18.7104 16.8271 18.6709H22.8271C22.8271 15.2903 19.9831 12.8228 16.8208 12.8228V18.8228Z" fill="black" mask="url(#path-11-inside-3_351_848)" />
        </svg>
        <select id="sort-by">
            <option value="default">Sort By</option>
            <option value="best_selling">Best Selling</option>
            <option value="newest">Newest</option>
        </select>
    </div>

    <!-- Sort by Price -->
    <div id="price-filter">
        <svg width="25" height="17" viewBox="0 0 25 17" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M20.1396 1.39486C20.1396 0.98065 19.8039 0.644863 19.3896 0.644863C18.9754 0.644863 18.6396 0.98065 18.6396 1.39486L20.1396 1.39486ZM18.8593 16.775C19.1522 17.0679 19.6271 17.0679 19.92 16.775L24.6929 12.002C24.9858 11.7091 24.9858 11.2342 24.6929 10.9413C24.4001 10.6485 23.9252 10.6485 23.6323 10.9413L19.3896 15.184L15.147 10.9413C14.8541 10.6485 14.3792 10.6485 14.0863 10.9413C13.7935 11.2342 13.7935 11.7091 14.0863 12.002L18.8593 16.775ZM18.6396 1.39486L18.6396 16.2446L20.1396 16.2446L20.1396 1.39486L18.6396 1.39486Z" fill="black" />
            <path d="M1.13672 1.39486H13.5115" stroke="black" stroke-width="1.5" stroke-linecap="round" />
            <path d="M1.13672 5.72608H11.9647" stroke="black" stroke-width="1.5" stroke-linecap="round" />
            <path d="M1.13672 10.0572H10.1085" stroke="black" stroke-width="1.5" stroke-linecap="round" />
            <path d="M1.13672 14.3884H7.6335" stroke="black" stroke-width="1.5" stroke-linecap="round" />
        </svg>

        <select id="price-sort">
            <option value="default">Price</option>
            <option value="low_to_high">Low to High</option>
            <option value="high_to_low">High to Low</option>
        </select>
    </div>

    <?php if(isset($_GET['r'])){ ?>
    <a class="search_term" href="<?php echo esc_url( home_url( '/shop' ) ); ?>">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path fill-rule="evenodd" clip-rule="evenodd" d="M12 24C18.6274 24 24 18.6274 24 12C24 5.37258 18.6274 0 12 0C5.37258 0 0 5.37258 0 12C0 18.6274 5.37258 24 12 24ZM11.8706 11.6L10.2206 9.14H8.12062L10.8506 13.1L8.07562 17H10.1906L11.8706 14.555L11.9906 14.3L12.1256 14.555L13.8206 17H15.9356L13.1606 13.055L15.8906 9.14H13.7756L12.1406 11.6L11.9906 11.87L11.8706 11.6Z" fill="#4E4E4E" />
        </svg>
        @php echo $_GET['r'] @endphp
    </a>
    <?php } ?>
</div>
<div id="category-filter">

    <?php
    $categories = get_categories(array(
        'taxonomy' => 'product_cat',
        'hide_empty' => true,
    ));
    foreach ($categories as $category) {
        if(isset($_GET['c'])){
            if($_GET['c'] == $category->term_id){
                echo '<label class="active"><input type="checkbox" name="category[]" value="' . esc_attr($category->term_id) . '"><span id="category"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path fill-rule="evenodd" clip-rule="evenodd" d="M12 24C18.6274 24 24 18.6274 24 12C24 5.37258 18.6274 0 12 0C5.37258 0 0 5.37258 0 12C0 18.6274 5.37258 24 12 24ZM11.8706 11.6L10.2206 9.14H8.12062L10.8506 13.1L8.07562 17H10.1906L11.8706 14.555L11.9906 14.3L12.1256 14.555L13.8206 17H15.9356L13.1606 13.055L15.8906 9.14H13.7756L12.1406 11.6L11.9906 11.87L11.8706 11.6Z" fill="white"/>
                </svg>
        ' . esc_html($category->name) . '</span></label><br>';
            }
        }else{
        echo '<label><input type="checkbox" name="category[]" value="' . esc_attr($category->term_id) . '"><span id="category"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path fill-rule="evenodd" clip-rule="evenodd" d="M12 24C18.6274 24 24 18.6274 24 12C24 5.37258 18.6274 0 12 0C5.37258 0 0 5.37258 0 12C0 18.6274 5.37258 24 12 24ZM11.8706 11.6L10.2206 9.14H8.12062L10.8506 13.1L8.07562 17H10.1906L11.8706 14.555L11.9906 14.3L12.1256 14.555L13.8206 17H15.9356L13.1606 13.055L15.8906 9.14H13.7756L12.1406 11.6L11.9906 11.87L11.8706 11.6Z" fill="white"/>
                </svg>
        ' . esc_html($category->name) . '</span></label><br>';
        }
    }
    ?>
</div>
